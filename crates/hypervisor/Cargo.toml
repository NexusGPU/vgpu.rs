[package]
name = "hypervisor"
version = "0.1.0"
edition = "2021"

[dependencies]
api-types = { workspace = true }
nvml-wrapper = { workspace = true }
anyhow = { workspace = true }
tracing = { workspace = true }
notify = { workspace = true }
tracing-subscriber = { workspace = true, features = ["env-filter"] }
tracing-appender = { workspace = true }
clap = { workspace = true, features = ["derive", "env"] }
priority-queue = { workspace = true }
trap = { workspace = true }
serde = { workspace = true, features = ["derive"] }
serde_json = { workspace = true }
serde_yaml = { workspace = true }
once_cell = { workspace = true }
utils = { workspace = true }
influxdb-line-protocol = { workspace = true }
derive_more = { workspace = true, features = ["display"] }
base64 = { workspace = true }
# Kubernetes dependencies
kube = { workspace = true, features = ["runtime", "derive"] }
k8s-openapi = { workspace = true, features = ["v1_28"] }
tokio = { workspace = true, features = ["full"] }
error-stack = { workspace = true }
futures = { workspace = true }
poem = { workspace = true }

[[bin]]
name = "hypervisor"
path = "src/main.rs"

[dev-dependencies]
ipc-channel = { workspace = true }
